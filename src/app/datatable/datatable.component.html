<form [formGroup]="datatableForm">
  <div class="dtable-content">
    <mat-drawer-container class="toolbox-container" autosize>
      <div class="input-grid"
        #selecttooltip="matTooltip"
        [matTooltip]="tooltipObj.cleanseTooltip.select"
        [matTooltipDisabled]="selectTooltipDisabled"
        matTooltipPosition="left"
        matTooltipClass="toolbox-tooltip cleanse-tooltip select-cell">
        <div class="dtable-header dtable-header-input" [ngClass]="{'toolbox-open': drawerIsOpen}">
          <button *ngIf="!drawerIsOpen" mat-button type="button" (click)="drawer.toggle()" class="dtable-header-tools">
            <mat-icon>build</mat-icon>
          </button>
          <button *ngIf="drawerIsOpen" mat-button type="button" (click)="drawer.toggle()" class="dtable-header-tools">
            <mat-icon>close</mat-icon>
          </button>
        </div>
        <div *ngFor="let inputRow of inputRows; index as j" class="input-row" [ngStyle]="cssInputColumnsValue" [ngClass]="{ 'no-top-row-border': j === 0}">
          <div class="input-cell-container">
            <input *ngFor="let inputCell of inputColumns; index as i"
              #inputcell
              class="input-cell"
              type="text"
              [formControlName]="inputRow.name"
              value="{{ inputRow.name }}"
              [ngClass]="{'toolbox-open': drawerIsOpen, 'ancestor-cell': i < inputColumns.length - 1, 'seed-originator': i === 0, '': true }" readonly>
          </div>
          <button
            *ngIf="inputRow.dataType === 'CHARACTER'"
            class="input-cell-cleanse"
            mat-button
            #tooltip="matTooltip"
            [matTooltip]="tooltipObj.cleanseTooltip.trim"
            matTooltipPosition="left"
            [matTooltipClass]="{'toolbox-tooltip cleanse-tooltip': true}">
            <mat-icon>crop</mat-icon>
          </button>
          <button
            *ngIf="inputRow.dataType === 'CHARACTER'"
            class="input-cell-cleanse"
            mat-button
            #tooltip="matTooltip"
            [matTooltip]="tooltipObj.cleanseTooltip.case"
            matTooltipPosition="left"
            [matTooltipClass]="{'toolbox-tooltip cleanse-tooltip': true}">
            <mat-icon>text_format</mat-icon>
          </button>
          <button
            *ngIf="inputRow.dataType === 'NUMERIC'"
            class="input-cell-cleanse"
            mat-button
            #tooltip="matTooltip"
            [matTooltip]="tooltipObj.cleanseTooltip.round"
            matTooltipPosition="left"
            [matTooltipClass]="{'toolbox-tooltip cleanse-tooltip': true}"
            (click)="applyCleanse('ROUND_UP', inputRow)">
            <mat-icon>all_out</mat-icon>
          </button>
        </div>
      </div> 
      <mat-drawer
        #drawer
        class="toolbox-sidenav"
        mode="side"
        position="end"
        (openedStart)="drawerChanged(true)"
        (closedStart)="drawerChanged(false)">
        <div class="dtable-header toolbox-controls">
         
          <!-- add [matMenuTriggerFor]="menuTest" to any element to trigger   -->
          <!-- <button mat-button class="toolbox-button" [ngClass]="{'toolbox-open': drawerIsOpen, 'toolbox-hover': (drawerIsOpen && toolboxSelectPhase)}">x</button> -->
            <button
              mat-flat-button
              class="toolbox-control"
              (click)="openDialog()"
              #tooltip="matTooltip"
              [matTooltip]="tooltipObj.functionTooltip.general"
              matTooltipPosition="left"
              [matTooltipClass]="{'toolbox-tooltip cleanse-tooltip': true}">
              <mat-icon>functions</mat-icon>
            </button> 
            <!-- (click)="setColumns(inputColumns.length + 1)" -->
            <button
              mat-flat-button 
              class="toolbox-control"
              #tooltip="matTooltip"
              [matTooltip]="tooltipObj.decisionTable.general"
              matTooltipPosition="left"
              [matTooltipClass]="{'toolbox-tooltip cleanse-tooltip': true}">
              <mat-icon>call_split</mat-icon>
            </button>
          
        </div>
      </mat-drawer>
    </mat-drawer-container>
    <div class="output-grid">
      <div class="dtable-header"></div>
      <div *ngFor="let outputRow of outputRows" class="output-row">
        <div class="output-cell">
          <input class="output-cell name" type="text" value="{{ outputRow.name }}" readonly>
        </div>
      </div>
    </div>
  </div>
</form>
